generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
}

model Project {
  id          String   @id @default(uuid())
  title       String
  description String?
  status      String   @default("active") // active, completed, archived
  localPath   String?  // Path to folder on disk
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model AgentTask {
  id        String   @id @default(uuid())
  type      String   // meeting, workflow, analysis
  prompt    String
  status    String   @default("pending") // pending, running, completed, failed
  result    String?  // JSON string of result
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model RevenueStream {
  id             String   @id @default(uuid())
  templateId     String?  // links back to static template ID like 'youtube-music'
  title          String
  category       String
  status         String   @default("locked") // locked, active, completed
  currentMonthly Float    @default(0)
  steps          String   // JSON string of checking steps state
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Agent {
  id           String   @id @default(uuid())
  name         String
  role         String   // Architect, QA, etc
  capabilities String   // JSON list of tools
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
}
